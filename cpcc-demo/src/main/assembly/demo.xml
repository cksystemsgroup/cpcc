<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd">
	<id>demo</id>
	<formats>
		<format>tar.gz</format>
	</formats>
	<includeBaseDirectory>false</includeBaseDirectory>
	<fileSets>
		<fileSet>
			<directory>src/main/scripts</directory>
			<outputDirectory>cpcc-demo-${project.parent.version}/bin</outputDirectory>
			<includes>
				<include>db-update.sh</include>
				<include>liquibase-update.sh</include>
				<include>run.sh</include>
				<include>setup_databases.sh</include>
				<include>setup_demo.sh</include>
				<include>shutdown.sh</include>
				<include>start_rv.sh</include>
				<include>stop_rv.sh</include>
			</includes>
			<fileMode>0755</fileMode>
		</fileSet>
		<fileSet>
			<directory>src/main/scripts</directory>
			<outputDirectory>cpcc-demo-${project.parent.version}/bin</outputDirectory>
			<filtered>true</filtered>
			<includes>
				<include>profile.sh</include>
			</includes>
			<fileMode>0644</fileMode>
		</fileSet>
		<fileSet>
			<directory>src/main/resources/config</directory>
			<outputDirectory>cpcc-demo-${project.parent.version}/conf</outputDirectory>
			<includes>
				<include>*.properties</include>
				<include>*.xml</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>src/main/resources/setups</directory>
			<outputDirectory>cpcc-demo-${project.parent.version}/setups</outputDirectory>
			<includes>
				<include>**/*.sql</include>
				<include>**/*.txt</include>
			</includes>
		</fileSet>		
		<fileSet>
			<directory>src/main/resources/demo</directory>
			<outputDirectory>cpcc-demo-${project.parent.version}/examples</outputDirectory>
			<includes>
				<include>vv-rnd*-tasks.js</include>
			</includes>
		</fileSet>
	</fileSets>
	<dependencySets>
		<dependencySet>
			<outputDirectory>cpcc-demo-${project.parent.version}/war</outputDirectory>
			<includes>
				<include>at.uni-salzburg.cs.cpcc:cpcc-gs-web:war</include>
				<include>at.uni-salzburg.cs.cpcc:cpcc-rv-web:war</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>
		<dependencySet>
			<outputDirectory>cpcc-demo-${project.parent.version}/lib</outputDirectory>
			<includes>
				<include>at.uni-salzburg.cs.cpcc:cpcc-demo:jar</include>
				<include>com.mchange:c3p0</include>
				<include>com.mchange:mchange-commons-java</include>
				<include>org.apache.tomcat:tomcat-annotations-api</include>
				<include>org.apache.tomcat:tomcat-api</include>
				<include>org.apache.tomcat:tomcat-catalina-ant</include>
				<include>org.apache.tomcat:tomcat-catalina-ha</include>
				<include>org.apache.tomcat:tomcat-catalina</include>
				<include>org.apache.tomcat:tomcat-coyote</include>
				<include>org.apache.tomcat:tomcat-dbcp</include>
				<include>org.apache.tomcat:tomcat-el-api</include>
				<include>org.apache.tomcat:tomcat-jasper-el</include>
				<include>org.apache.tomcat:tomcat-jasper</include>
				<include>org.apache.tomcat:tomcat-jaspic-api</include>
				<include>org.apache.tomcat:tomcat-jdbc</include>
				<include>org.apache.tomcat:tomcat-jni</include>
				<include>org.apache.tomcat:tomcat-jsp-api</include>
				<include>org.apache.tomcat:tomcat-juli</include>
				<include>org.apache.tomcat:tomcat-servlet-api</include>
				<include>org.apache.tomcat:tomcat-storeconfig</include>
				<include>org.apache.tomcat:tomcat-tribes</include>
				<include>org.apache.tomcat:tomcat-util</include>
				<include>org.apache.tomcat:tomcat-util-scan</include>
				<include>org.apache.tomcat:tomcat-websocket-api</include>
				<include>com.h2database:h2</include>
				<include>org.liquibase:liquibase-core</include>
				<include>org.yaml:snakeyaml</include>
				<include>ch.qos.logback:logback-classic</include>
				<include>ch.qos.logback:logback-core</include>
				<include>org.slf4j:slf4j-api</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>
		<dependencySet>
			<outputDirectory>cpcc-demo-${project.parent.version}/classes</outputDirectory>
			<includes>
				<include>at.uni-salzburg.cs.cpcc:cpcc-core</include>
			</includes>
			<unpack>true</unpack>
			<unpackOptions>
				<includes>
					<include>dbchange/**/*</include>
					<include>liquibase.properties</include>
				</includes>
			</unpackOptions>
		</dependencySet>
	</dependencySets>

</assembly>
